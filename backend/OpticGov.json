{
  "_format": "hh-sol-artifact-1",
  "contractName": "OpticGov",
  "sourceName": "contracts/OpticGov.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_oracleAddress",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "AlreadyCompleted",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidAmount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidLength",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "projectId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "milestoneIndex",
          "type": "uint256"
        }
      ],
      "name": "InvalidMilestone",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "contractor",
          "type": "address"
        }
      ],
      "name": "OnlyContractor",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ProjectDoesNotExist",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "TransferFailed",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "caller",
          "type": "address"
        }
      ],
      "name": "Unauthorized",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "projectId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "milestoneIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        }
      ],
      "name": "EvidenceSubmitted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "projectId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "milestoneIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "MilestoneReleased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "projectId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "funder",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "contractor",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "budget",
          "type": "uint256"
        }
      ],
      "name": "ProjectCreated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_contractor",
          "type": "address"
        },
        {
          "internalType": "uint256[]",
          "name": "_milestoneAmounts",
          "type": "uint256[]"
        },
        {
          "internalType": "string[]",
          "name": "_milestoneDescriptions",
          "type": "string[]"
        }
      ],
      "name": "createProject",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_projectId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "getMilestone",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "description",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "isCompleted",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "isReleased",
              "type": "bool"
            },
            {
              "internalType": "string",
              "name": "evidenceIpfsHash",
              "type": "string"
            }
          ],
          "internalType": "struct OpticGov.Milestone",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextProjectId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "oracleAddress",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "projects",
      "outputs": [
        {
          "internalType": "address",
          "name": "funder",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "contractor",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "totalBudget",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "fundsReleased",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "milestoneCount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_projectId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_milestoneIndex",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "_verdict",
          "type": "bool"
        }
      ],
      "name": "releaseMilestone",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_projectId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_milestoneIndex",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "_ipfsHash",
          "type": "string"
        }
      ],
      "name": "submitEvidence",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "stateMutability": "payable",
      "type": "receive"
    }
  ],
  "bytecode": "0x60a060405234801561001057600080fd5b50604051610ff0380380610ff083398101604081905261002f9161006e565b6001600160a01b03811661005d5760405163472511eb60e11b81526000600482015260240160405180910390fd5b6001600160a01b031660805261009e565b60006020828403121561008057600080fd5b81516001600160a01b038116811461009757600080fd5b9392505050565b608051610f306100c0600039600081816101b1015261020c0152610f306000f3fe6080604052600436106100745760003560e01c80638b69fa0a1161004e5780638b69fa0a146101525780638ed9895c14610172578063a89ae4ba1461019f578063e935b7b1146101eb57600080fd5b8063107046bd14610080578063317082351461010f5780635bb6b4211461013157600080fd5b3661007b57005b600080fd5b34801561008c57600080fd5b506100d761009b36600461098f565b6001602081905260009182526040909120805491810154600282015460038301546004909301546001600160a01b039485169490921692909185565b604080516001600160a01b039687168152959094166020860152928401919091526060830152608082015260a0015b60405180910390f35b34801561011b57600080fd5b5061012f61012a3660046109a8565b610201565b005b61014461013f366004610a32565b6103df565b604051908152602001610106565b34801561015e57600080fd5b5061012f61016d366004610ac1565b61067e565b34801561017e57600080fd5b5061019261018d366004610b41565b6107c3565b6040516101069190610ba9565b3480156101ab57600080fd5b506101d37f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610106565b3480156101f757600080fd5b5061014460005481565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146102515760405163472511eb60e11b81523360048201526024015b60405180910390fd5b60008381526001602052604090206004810154831061028d57604051630b0d89bb60e01b81526004810185905260248101849052604401610248565b60008160050184815481106102a4576102a4610c0d565b60009182526020909120600490910201600281015490915060ff16156102dd5760405163195332a560e01b815260040160405180910390fd5b60028101805460ff1916600117905582156103d85760028101805461ff001916610100179055600181015460038301805482919060009061031f908490610c39565b909155505060018301546040516000916001600160a01b03169083908381818185875af1925050503d8060008114610373576040519150601f19603f3d011682016040523d82523d6000602084013e610378565b606091505b505090508061039a576040516312171d8360e31b815260040160405180910390fd5b85877fd33fcd27cbfb73a2d9058c968b560ccb306500bf536133802048489ecc7355e9846040516103cd91815260200190565b60405180910390a350505b5050505050565b60008382146104015760405163251f56a160e21b815260040160405180910390fd5b60008490036104235760405163251f56a160e21b815260040160405180910390fd5b6000805b858110156104675786868281811061044157610441610c0d565b90506020020135826104539190610c39565b91508061045f81610c4c565b915050610427565b508034146104885760405163162908e360e11b815260040160405180910390fd5b60008054818061049783610c4c565b90915550600081815260016020819052604082208054336001600160a01b031991821617825591810180549092166001600160a01b038d161790915560028101859055600481018990559192505b8781101561062357816005016040518060a0016040528089898581811061050e5761050e610c0d565b90506020028101906105209190610c65565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505050908252506020018b8b8581811061056c5761056c610c0d565b602090810292909201358352506000828201819052604080840182905280518084019091528181526060909301929092528354600181018555938252902081519192600402019081906105bf9082610d4b565b50602082015160018201556040820151600282018054606085015115156101000261ff00199315159390931661ffff19909116179190911790556080820151600382019061060d9082610d4b565b505050808061061b90610c4c565b9150506104e5565b50886001600160a01b0316336001600160a01b0316837ff03bc2e49a83d942284cb30e1c2935d4b542e1e1e6456d28b5365ddb110a52a28660405161066a91815260200190565b60405180910390a450979650505050505050565b600084815260016020526040902080546001600160a01b03166106b4576040516338fde52b60e01b815260040160405180910390fd5b60018101546001600160a01b031633146106f257600181015460405163e96b27a360e01b81526001600160a01b039091166004820152602401610248565b8060040154841061072057604051630b0d89bb60e01b81526004810186905260248101859052604401610248565b600081600501858154811061073757610737610c0d565b60009182526020909120600490910201600281015490915060ff16156107705760405163195332a560e01b815260040160405180910390fd5b6003810161077f848683610e0b565b5084867fd998ce0f89c38b0f93256f0b843a404a3a3c5055b75265623f7cb9c369a1dd6286866040516107b3929190610ecb565b60405180910390a3505050505050565b6107f96040518060a001604052806060815260200160008152602001600015158152602001600015158152602001606081525090565b600083815260016020526040902060050180548390811061081c5761081c610c0d565b90600052602060002090600402016040518060a001604052908160008201805461084590610cc2565b80601f016020809104026020016040519081016040528092919081815260200182805461087190610cc2565b80156108be5780601f10610893576101008083540402835291602001916108be565b820191906000526020600020905b8154815290600101906020018083116108a157829003601f168201915b505050918352505060018201546020820152600282015460ff80821615156040840152610100909104161515606082015260038201805460809092019161090490610cc2565b80601f016020809104026020016040519081016040528092919081815260200182805461093090610cc2565b801561097d5780601f106109525761010080835404028352916020019161097d565b820191906000526020600020905b81548152906001019060200180831161096057829003601f168201915b50505050508152505090505b92915050565b6000602082840312156109a157600080fd5b5035919050565b6000806000606084860312156109bd57600080fd5b8335925060208401359150604084013580151581146109db57600080fd5b809150509250925092565b60008083601f8401126109f857600080fd5b50813567ffffffffffffffff811115610a1057600080fd5b6020830191508360208260051b8501011115610a2b57600080fd5b9250929050565b600080600080600060608688031215610a4a57600080fd5b85356001600160a01b0381168114610a6157600080fd5b9450602086013567ffffffffffffffff80821115610a7e57600080fd5b610a8a89838a016109e6565b90965094506040880135915080821115610aa357600080fd5b50610ab0888289016109e6565b969995985093965092949392505050565b60008060008060608587031215610ad757600080fd5b8435935060208501359250604085013567ffffffffffffffff80821115610afd57600080fd5b818701915087601f830112610b1157600080fd5b813581811115610b2057600080fd5b886020828501011115610b3257600080fd5b95989497505060200194505050565b60008060408385031215610b5457600080fd5b50508035926020909101359150565b6000815180845260005b81811015610b8957602081850181015186830182015201610b6d565b506000602082860101526020601f19601f83011685010191505092915050565b602081526000825160a06020840152610bc560c0840182610b63565b9050602084015160408401526040840151151560608401526060840151151560808401526080840151601f198483030160a0850152610c048282610b63565b95945050505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b8082018082111561098957610989610c23565b600060018201610c5e57610c5e610c23565b5060010190565b6000808335601e19843603018112610c7c57600080fd5b83018035915067ffffffffffffffff821115610c9757600080fd5b602001915036819003821315610a2b57600080fd5b634e487b7160e01b600052604160045260246000fd5b600181811c90821680610cd657607f821691505b602082108103610cf657634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610d4657600081815260208120601f850160051c81016020861015610d235750805b601f850160051c820191505b81811015610d4257828155600101610d2f565b5050505b505050565b815167ffffffffffffffff811115610d6557610d65610cac565b610d7981610d738454610cc2565b84610cfc565b602080601f831160018114610dae5760008415610d965750858301515b600019600386901b1c1916600185901b178555610d42565b600085815260208120601f198616915b82811015610ddd57888601518255948401946001909101908401610dbe565b5085821015610dfb5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b67ffffffffffffffff831115610e2357610e23610cac565b610e3783610e318354610cc2565b83610cfc565b6000601f841160018114610e6b5760008515610e535750838201355b600019600387901b1c1916600186901b1783556103d8565b600083815260209020601f19861690835b82811015610e9c5786850135825560209485019460019092019101610e7c565b5086821015610eb95760001960f88860031b161c19848701351681555b505060018560011b0183555050505050565b60208152816020820152818360408301376000818301604090810191909152601f909201601f1916010191905056fea2646970667358221220a54d27db645d0b444b26852a1fcd042e4d787e05a5a72a8227621f4cfac08b9264736f6c63430008140033",
  "deployedBytecode": "0x6080604052600436106100745760003560e01c80638b69fa0a1161004e5780638b69fa0a146101525780638ed9895c14610172578063a89ae4ba1461019f578063e935b7b1146101eb57600080fd5b8063107046bd14610080578063317082351461010f5780635bb6b4211461013157600080fd5b3661007b57005b600080fd5b34801561008c57600080fd5b506100d761009b36600461098f565b6001602081905260009182526040909120805491810154600282015460038301546004909301546001600160a01b039485169490921692909185565b604080516001600160a01b039687168152959094166020860152928401919091526060830152608082015260a0015b60405180910390f35b34801561011b57600080fd5b5061012f61012a3660046109a8565b610201565b005b61014461013f366004610a32565b6103df565b604051908152602001610106565b34801561015e57600080fd5b5061012f61016d366004610ac1565b61067e565b34801561017e57600080fd5b5061019261018d366004610b41565b6107c3565b6040516101069190610ba9565b3480156101ab57600080fd5b506101d37f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610106565b3480156101f757600080fd5b5061014460005481565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146102515760405163472511eb60e11b81523360048201526024015b60405180910390fd5b60008381526001602052604090206004810154831061028d57604051630b0d89bb60e01b81526004810185905260248101849052604401610248565b60008160050184815481106102a4576102a4610c0d565b60009182526020909120600490910201600281015490915060ff16156102dd5760405163195332a560e01b815260040160405180910390fd5b60028101805460ff1916600117905582156103d85760028101805461ff001916610100179055600181015460038301805482919060009061031f908490610c39565b909155505060018301546040516000916001600160a01b03169083908381818185875af1925050503d8060008114610373576040519150601f19603f3d011682016040523d82523d6000602084013e610378565b606091505b505090508061039a576040516312171d8360e31b815260040160405180910390fd5b85877fd33fcd27cbfb73a2d9058c968b560ccb306500bf536133802048489ecc7355e9846040516103cd91815260200190565b60405180910390a350505b5050505050565b60008382146104015760405163251f56a160e21b815260040160405180910390fd5b60008490036104235760405163251f56a160e21b815260040160405180910390fd5b6000805b858110156104675786868281811061044157610441610c0d565b90506020020135826104539190610c39565b91508061045f81610c4c565b915050610427565b508034146104885760405163162908e360e11b815260040160405180910390fd5b60008054818061049783610c4c565b90915550600081815260016020819052604082208054336001600160a01b031991821617825591810180549092166001600160a01b038d161790915560028101859055600481018990559192505b8781101561062357816005016040518060a0016040528089898581811061050e5761050e610c0d565b90506020028101906105209190610c65565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505050908252506020018b8b8581811061056c5761056c610c0d565b602090810292909201358352506000828201819052604080840182905280518084019091528181526060909301929092528354600181018555938252902081519192600402019081906105bf9082610d4b565b50602082015160018201556040820151600282018054606085015115156101000261ff00199315159390931661ffff19909116179190911790556080820151600382019061060d9082610d4b565b505050808061061b90610c4c565b9150506104e5565b50886001600160a01b0316336001600160a01b0316837ff03bc2e49a83d942284cb30e1c2935d4b542e1e1e6456d28b5365ddb110a52a28660405161066a91815260200190565b60405180910390a450979650505050505050565b600084815260016020526040902080546001600160a01b03166106b4576040516338fde52b60e01b815260040160405180910390fd5b60018101546001600160a01b031633146106f257600181015460405163e96b27a360e01b81526001600160a01b039091166004820152602401610248565b8060040154841061072057604051630b0d89bb60e01b81526004810186905260248101859052604401610248565b600081600501858154811061073757610737610c0d565b60009182526020909120600490910201600281015490915060ff16156107705760405163195332a560e01b815260040160405180910390fd5b6003810161077f848683610e0b565b5084867fd998ce0f89c38b0f93256f0b843a404a3a3c5055b75265623f7cb9c369a1dd6286866040516107b3929190610ecb565b60405180910390a3505050505050565b6107f96040518060a001604052806060815260200160008152602001600015158152602001600015158152602001606081525090565b600083815260016020526040902060050180548390811061081c5761081c610c0d565b90600052602060002090600402016040518060a001604052908160008201805461084590610cc2565b80601f016020809104026020016040519081016040528092919081815260200182805461087190610cc2565b80156108be5780601f10610893576101008083540402835291602001916108be565b820191906000526020600020905b8154815290600101906020018083116108a157829003601f168201915b505050918352505060018201546020820152600282015460ff80821615156040840152610100909104161515606082015260038201805460809092019161090490610cc2565b80601f016020809104026020016040519081016040528092919081815260200182805461093090610cc2565b801561097d5780601f106109525761010080835404028352916020019161097d565b820191906000526020600020905b81548152906001019060200180831161096057829003601f168201915b50505050508152505090505b92915050565b6000602082840312156109a157600080fd5b5035919050565b6000806000606084860312156109bd57600080fd5b8335925060208401359150604084013580151581146109db57600080fd5b809150509250925092565b60008083601f8401126109f857600080fd5b50813567ffffffffffffffff811115610a1057600080fd5b6020830191508360208260051b8501011115610a2b57600080fd5b9250929050565b600080600080600060608688031215610a4a57600080fd5b85356001600160a01b0381168114610a6157600080fd5b9450602086013567ffffffffffffffff80821115610a7e57600080fd5b610a8a89838a016109e6565b90965094506040880135915080821115610aa357600080fd5b50610ab0888289016109e6565b969995985093965092949392505050565b60008060008060608587031215610ad757600080fd5b8435935060208501359250604085013567ffffffffffffffff80821115610afd57600080fd5b818701915087601f830112610b1157600080fd5b813581811115610b2057600080fd5b886020828501011115610b3257600080fd5b95989497505060200194505050565b60008060408385031215610b5457600080fd5b50508035926020909101359150565b6000815180845260005b81811015610b8957602081850181015186830182015201610b6d565b506000602082860101526020601f19601f83011685010191505092915050565b602081526000825160a06020840152610bc560c0840182610b63565b9050602084015160408401526040840151151560608401526060840151151560808401526080840151601f198483030160a0850152610c048282610b63565b95945050505050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b8082018082111561098957610989610c23565b600060018201610c5e57610c5e610c23565b5060010190565b6000808335601e19843603018112610c7c57600080fd5b83018035915067ffffffffffffffff821115610c9757600080fd5b602001915036819003821315610a2b57600080fd5b634e487b7160e01b600052604160045260246000fd5b600181811c90821680610cd657607f821691505b602082108103610cf657634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610d4657600081815260208120601f850160051c81016020861015610d235750805b601f850160051c820191505b81811015610d4257828155600101610d2f565b5050505b505050565b815167ffffffffffffffff811115610d6557610d65610cac565b610d7981610d738454610cc2565b84610cfc565b602080601f831160018114610dae5760008415610d965750858301515b600019600386901b1c1916600185901b178555610d42565b600085815260208120601f198616915b82811015610ddd57888601518255948401946001909101908401610dbe565b5085821015610dfb5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b67ffffffffffffffff831115610e2357610e23610cac565b610e3783610e318354610cc2565b83610cfc565b6000601f841160018114610e6b5760008515610e535750838201355b600019600387901b1c1916600186901b1783556103d8565b600083815260209020601f19861690835b82811015610e9c5786850135825560209485019460019092019101610e7c565b5086821015610eb95760001960f88860031b161c19848701351681555b505060018560011b0183555050505050565b60208152816020820152818360408301376000818301604090810191909152601f909201601f1916010191905056fea2646970667358221220a54d27db645d0b444b26852a1fcd042e4d787e05a5a72a8227621f4cfac08b9264736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
